(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{156:function(t,e,n){t.exports=n.p+"img/de7fa10.png"},157:function(t,e,n){t.exports=n.p+"img/b5ba67c.png"},161:function(t,e,n){"use strict";n.r(e);var o={layout:"blog",data:function(){return{one:'<template>\n    <div>\n    <h1>Create Event {{ userName }}</h1>\n    <p>There are {{catLength}} categories</p>\n      <ul>\n        <li v-for="cat in categories" :key="cat">\n            {{cat}}\n        </li>\n      </ul>\n      <p>\n      {{ getEventById(3) }}\n    </div>\n</template>',two:"import { mapState, mapGetters } from 'vuex'\nexport default {\n  computed: {\n    ...mapState(['user', 'categories']),\n    ...mapGetters(['getEventById', 'catLength'])\n  }\n}"}}},r=n(12),component=Object(r.a)(o,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("h1",{staticClass:"title italic"},[t._v("\n            Vuex — how to use state\n        ")]),t._v(" "),o("p",[t._v("\n            When an app becomes complex in terms of where data is being passed between multiple components, it is time to make use of Vuex.\n        ")]),t._v(" "),o("p",[t._v("\n            Vuex is a state management pattern + library for Vue.js applications. It serves as a centralized store for all the components in an application, with rules ensuring that the state can only be mutated in a predictable fashion.\n        ")]),t._v(" "),o("img",{staticClass:"image",attrs:{src:n(156),alt:"vuex chart"}}),t._v(" "),o("h3",{staticClass:"italic title--page"},[t._v("\n                Why use Vuex?\n        ")]),t._v(" "),t._m(0),t._v(" "),o("p",[t._v("\n            To set up Vuex you have to install the npm package.\n        ")]),t._v(" "),t._m(1),t._v(" "),o("p",[t._v("\n           Inside the src folder, we can now set up a store.js file. \n        ")]),t._v(" "),o("p",[t._v("\n            Heres how the store.js file would look.\n        ")]),t._v(" "),t._m(2),t._v(" "),o("p",[t._v("Inside main.js we can link the store to the Vue instance by importing the store file and added to Vue…")]),t._v(" "),t._m(3),t._v(" "),o("p",[t._v("Right now we have the store set up 🥳 but we cannot access or edit yet 😕.")]),t._v(" "),o("h3",{staticClass:"italic title title--page"},[t._v("\n    How to work with the store (vuex)\n")]),t._v(" "),o("img",{staticClass:"image",attrs:{src:n(157),alt:"vuex chart"}}),t._v(" "),o("h3",{staticClass:"italic title title--page"},[t._v("\n   Mutations\n")]),t._v(" "),t._m(4),t._v(" "),o("h3",{staticClass:"italic title title--page"},[t._v("\n              Getting the state from Vuex into computed properties.\n          ")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),o("h3",{staticClass:"title title--page italic"},[t._v("\n    How to link the getters to components?\n")]),t._v(" "),o("p",[t._v("\n    Use computed properties, but first, we can map the getters for easy access like so.\n")]),t._v(" "),t._m(9),t._v(" "),o("pre",[o("code",{staticClass:"language-javascript"},[t._v(t._s(t.one))])]),t._v(" "),t._m(10),t._v(" "),o("pre",[o("code",{staticClass:"language-javascript"},[t._v(t._s(t.two))])]),t._v(" "),o("p",[t._v("You have to import { mapGetters } from Vuex to be able to place inside the computed properties. Using the spread operator and pacing each getter as a string array item we can then reference individual getters inside the template.")]),t._v(" "),o("p",[t._v("We can also create getters that take arguments which are then used as a computed property and take input inside the template. The example for this is the getter getEventById in the above two code blocks.")]),t._v(" "),o("h3",{staticClass:"title title--page italic"},[t._v("\n  Mutations\n")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),o("h3",{staticClass:"title title--page italic"},[t._v("\n  Actions\n")]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),o("p",[t._v("\n  Here we can see that mutation has been created that takes an event and pushes to the events array. The action is the code that we will dispatch to from the component, in turn, this calls the mutation and updates the store state.\n")]),t._v(" "),o("p",[t._v("\n  Let's see how to call the action inside a component.\n")]),t._v(" "),t._m(16),t._v(" "),o("p",[t._v("\n    Referencing the store and dispatch with the name that matches actions function name, this will now send the this. event data into the action, then call the mutation and update the state.\n  ")]),t._v(" "),t._m(17),o("p",[t._v("\n      That’s the basics of Vuex, cheers ☕️\n    ")]),t._v(" "),o("p")])},[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"list list--bullet"},[n("li",[t._v("\n                Vuex provides one source of truth\n            ")]),t._v(" "),n("li",[t._v("\n                Every component has access to the global state\n            ")]),t._v(" "),n("li",[t._v("\n                The global state is reactive, just like local state\n            ")]),t._v(" "),n("li",[t._v("\n                Reduces component data tracking from becoming complex.\n            ")]),t._v(" "),n("li",[t._v("\n                Vuex provides a state pattern to make updates standardized.\n            ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"language-bash"},[this._v(" npm i vuex --save")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"language-javascript"},[this._v("\nimport Vue from 'vue';\nimport Vuex from 'vuex';\n\nVue.use(Vuex);\n\nexport const store = new Vuex.Store({\n  state: {},\n  mutations: {},\n  actions: {},\n  getters: {},\n});")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"language-javascript"},[this._v("import Vue from 'vue';\nimport App from './App.vue';\nimport { store } from './store/store';\n\nVue.config.productionTip = false;\n\nnew Vue({\n  store,\n  render: h => h(App),\n}).$mount('#app');")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"list list--bullet"},[e("li",[this._v("Commit + track state changes")]),this._v(" "),e("li",[this._v("The best practice is for actions to call mutations then mutations update the state directly.")]),this._v(" "),e("li",[this._v("Using the dev tools we can roll back mutations back to the previous state value.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n              Inside the "),e("span",{staticClass:"bold"},[this._v("store.js")]),this._v(" we can create getters, these interact directly with the state in the store. They are used to get the state. We can then display the getters inside components through computed properties.\n          ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{staticClass:"link",attrs:{href:"https://vuex.vuejs.org/guide/getters.html",target:"_blank"}},[this._v("Documentation for getters here.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"bold"},[this._v("Store.js")]),this._v(" file with state and getters set up.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"language-javascript"},[this._v("import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    user: { id: 'aaa', name: 'Adsasas' },\n    events: [\n      {\n        id: 1,\n        title: 'title one',\n        organizer: 'a'\n      },\n      {\n        id: 2,\n        title: 'title two',\n        organizer: 'b'\n      },\n      {\n        id: 3,\n        title: 'title three',\n        organizer: 'c'\n      }\n    ],\n    categories: [\n      'sustainability',\n      'nature',\n      'animal welfare',\n      'housing',\n      'education',\n      'food',\n      'community'\n    ]\n  },\n  mutations: {},\n  actions: {},\n  getters: {\n    catLength: state => {\n      return state.categories.length\n    },\n    doneToDos: state => {\n      return state.todos.filter(todo => todo.done)\n    },\n    activeTodosCount: state => {\n      return state.todos.filter(todo => !todo.done).length\n    },\n    getEventById: state => id => {\n      return state.events.find(event => event.id === id)\n    }\n  }\n})")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"bold"},[this._v("component.vue")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("span",{staticClass:"bold"},[this._v("component.vue - script section")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"list list--bullet"},[e("li",[this._v("\nCan update/mutate Vuex State.\n  ")]),this._v(" "),e("li",[this._v("\nThey are synchronous, they happen one after another.\n  ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{staticClass:"link",attrs:{href:"https://vuex.vuejs.org/guide/mutations.html",target:"_blank"}},[this._v("Mutations documentation here.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",{staticClass:"list list--bullet"},[e("li",[this._v("\nCan wrap business logic around mutations\n  ")]),this._v(" "),e("li",[this._v("\nAlways put "),e("span",{staticClass:"bold"},[this._v("Mutations")]),this._v(" within "),e("span",{staticClass:"bold"},[this._v("Actions")]),this._v(" — as business logic, later on, would be easy to apply, this increases the scalability.\n  ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{staticClass:"link",attrs:{href:"https://vuex.vuejs.org/guide/actions.html",target:"_blank"}},[this._v("Actions documentation here.")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"language-javascript"},[this._v("import Vue from 'vue';\nimport Vuex from 'vuex';\n\nVue.use(Vuex);\nexport const store = new Vuex.Store({\n  state: {\n    categories: ['travel', 'fun', 'social', 'work', 'other'],\n    events: [],\n  },\n  getters: {\n    cat: state => {\n      return state.categories;\n    },\n    getEventById: state => id => {\n      return state.events.find(event => event.id === id);\n    },\n    events: state => {\n      return state.events;\n    },\n  },\n  mutations: {\n    ADD_EVENT(state, event) {\n      state.events.push(event);\n    },\n  },\n  actions: {\n    createEvent({ commit }, event) {\n      commit('ADD_EVENT', event);\n    },\n  },\n});")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("pre",[e("code",{staticClass:"language-bash"},[this._v("this.$store.dispatch('createEvent', this.event)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("\n    Using the pattern above is a way to set up and use Vuex as the data point in your application was helps avoid tracking through components to see where the data needs to pass to. This can become bloated in larger applications so a module approach is needed to aid larger apps. Documentation can be found "),e("a",{staticClass:"link",attrs:{href:"https://vuex.vuejs.org/guide/modules.html",target:"_blank"}},[this._v("here")]),this._v(".\n    ")])}],!1,null,null,null);e.default=component.exports}}]);